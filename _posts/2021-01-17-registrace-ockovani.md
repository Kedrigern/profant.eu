---
layout:     post
title:      "Jak selhala registrace oÄkovÃ¡nÃ­"
date:       2021-01-17 20:30:00 +0100
categories: BezpeÄnost
comments:   true
tags:       [BezpeÄnost, SoukromÃ­]
img:        facepalm-ockovani.jpg
author:     OndÅ™ej Profant
---

KoneÄnÄ› jsme se doÄkali svÄ›tla na konci dlouhÃ©ho pandemickÃ©ho tunelu - distribuce vakcÃ­ny. OpravdovÃ©ho zpÅ¯sobu jak vrÃ¡tit naÅ¡e Å¾ivoty do normÃ¡lu. AvÅ¡ak i tento nadÄ›jnÃ½ okamÅ¾ik provÃ¡zÃ­ naprostÃ© selhÃ¡nÃ­ vlÃ¡dy.

<!--more-->

15\. 1. byl spuÅ¡tÄ›n rezervaÄnÃ­ systÃ©m. A objevila se v nÄ›m celÃ¡ Å™ada chyb. 

<blockquote class="twitter-tweet"><p lang="cs" dir="ltr">ZahÃ¡jenÃ­ oÄkovÃ¡nÃ­ proti koronaviru v ÄŒesku nebylo pÅ™ipravenÃ©, nezvlÃ¡dlo by se bez nemocnic, kterÃ© ale dostÃ¡vÃ¡ pod dalÅ¡Ã­ tlak, tvrdÃ­ Milan Kubek. NechÃ¡pe takÃ©, proÄ se senioÅ™i majÃ­ pÅ™ihlaÅ¡ovat pomocÃ­ elektronickÃ©ho systÃ©mu, kterÃ½ â€jedinÃ©, co dÄ›lÃ¡, Å¾e zamÄ›stnÃ¡vÃ¡ jejich pÅ™Ã­buznÃ©.â€œ <a href="https://t.co/aRvqKSk6je">pic.twitter.com/aRvqKSk6je</a></p>&mdash; CT24zive (@CT24zive) <a href="https://twitter.com/CT24zive/status/1350818278134976512?ref_src=twsrc%5Etfw">January 17, 2021</a></blockquote>

## Chyby organizaÄnÃ­

1) PrvnÃ­ otÃ¡zkou je, zda je vÅ¯bec **vhodnÃ© registrovat lidi 80+ pÅ™es internet**. ChÃ¡pu, Å¾e systÃ©m bude slouÅ¾it i dalÅ¡Ã­m skupinÃ¡m obyvatel, avÅ¡ak dÄ›lat ze seniorÅ¯ pokusnÃ© krÃ¡lÃ­ky mi pÅ™ijde krajnÄ› nevhodnÃ©. ZvlÃ¡Å¡tÄ› kdyÅ¾ PirÃ¡ti prosadili do ZÃ¡kona o prÃ¡vu na digitÃ¡lnÃ­ sluÅ¾by prÃ¡vo nebÃ½t digitÃ¡lnÃ­.
2) **ÄŒasovÃ¡ tÃ­seÅˆ**: O dÅ¯leÅ¾itosti logistickÃ© operace s vakcÃ­nou se vÃ­ de facto od vypuknutÃ­ krize. Od podzimu vÃ­me, Å¾e nÃ¡s od vakcÃ­ny dÄ›lÃ­ nanejvÃ½Å¡ mÄ›sÃ­ce. AkorÃ¡t naÅ¡e vlÃ¡da se odmÃ­tla velmi dlouho vyjÃ¡dÅ™it, jak se celÃ¡ vÄ›c bude Å™eÅ¡it v ÄŒR. Proto se distribuce, kterÃ© jsme svÄ›dky, zaÄala Å™eÅ¡it aÅ¾ okolo VÃ¡noc. V reÃ¡lu tedy na pÅ™Ã­pravu systÃ©mu bylo cca 14 pracovnÃ­ch dnÃ­.
3) DÃ­ky ÄasovÃ© tÃ­sni z bodu 2) nebyla moÅ¾nost systÃ©m Å™Ã¡dnÄ› vyzkouÅ¡et a **otestovat** v Å¡irÅ¡Ã­ skupinÄ›, zapracovat pÅ™ipomÃ­nky odbornÃ­kÅ¯ apod. To by mÄ›la bÃ½t standardnÃ­ souÄÃ¡st procesu vÃ½voje obdobnÃ©ho systÃ©mu (zvlÃ¡Å¡tÄ› pokud ho neumÄ›jÃ­ sprÃ¡vnÄ› navrhnout).
4) **SystÃ©m byl naroubovÃ¡n na systÃ©m spoleÄnosti Reservatic**. Na smlouvu, kterou mÄ›l NAKIT jiÅ¾ od Å™Ã­jna. AvÅ¡ak ta poÄÃ­tala s centrÃ¡lnÃ­ registracÃ­ na ag testy, nikoliv na oÄkovÃ¡nÃ­. Tato Ãºloha se velmi liÅ¡Ã­ v mnoÅ¾stvÃ­ pÅ™edÃ¡vanÃ½ch osobnÃ­ch dat. U oÄkovÃ¡nÃ­ podle skupin obyvatelstva musÃ­te zkoumat vÄ›k, zdravotnÃ­ stav a dalÅ¡Ã­ ukazatele. SystÃ©m Reservatic byl nejspÃ­Å¡ zvolen jen proto, Å¾e UVN ho jiÅ¾ mÄ›la propojen se softwarem ÃšZIS.
5) **Å patnÃ¡ komunikace s mÃ©dii**. Server iRozhlas.cz se jiÅ¾ mÄ›sÃ­c zajÃ­mal pÅ™esnÄ› o palÄivÃ© problÃ©my okolo naklÃ¡dÃ¡nÃ­ s osobnÃ­mi Ãºdaji, ale komunikace ze strany NAKIT byla formalistickÃ¡ a snaÅ¾ila se chyby zapÃ­rat.
6) **Nebyla domluva s mobilnÃ­mi operÃ¡tory**, proto nestaÄila SMS brÃ¡na jak informoval [DenÃ­kN][].

    <blockquote class="twitter-tweet"><p lang="cs" dir="ltr">MobilnÃ­ operÃ¡toÅ™i o ovÄ›Å™ovacÃ­ch SMS pro registraci k oÄkovÃ¡nÃ­ nevÄ›dÄ›li. PIN kÃ³dy tak lidem pÅ™ichÃ¡zely se zpoÅ¾dÄ›nÃ­m. O pÅ¯l devÃ¡tÃ© mÄ›li operÃ¡toÅ™i ChytrÃ© karantÃ©ny ve frontÄ› 40 tisÃ­c SMS zprÃ¡v. <a href="https://t.co/v5RYPg5QwF">pic.twitter.com/v5RYPg5QwF</a></p>&mdash; CT24zive (@CT24zive) <a href="https://twitter.com/CT24zive/status/1350094469484457985?ref_src=twsrc%5Etfw">January 15, 2021</a></blockquote>
7) NÄ›kterÃ¡ **oÄkovacÃ­ centra** (napÅ™. Blansko) **nejsou integrovÃ¡na** do systÃ©mu. ObÄanÃ© je tedy ani nenajdou v nabÃ­dce.

OdpovÄ›dnost je zcela jistÄ› na vlÃ¡dÄ›, kterÃ¡ mÃ¡ zemi svÄ›Å™enou do pÃ©Äe. Parlament jÃ­ ve vÅ¡em vyÅ¡el vstÅ™Ã­c, avÅ¡ak i pÅ™esto vlÃ¡da v Äele s premiÃ©rem Andrejem BabiÅ¡em nedokÃ¡zala pÅ™ipravit klÃ­ÄovÃ© vÄ›ci vÄas. Zcela absurdnÃ­ je vÃ½rok poslance ANO J. [Å piÄÃ¡ka][spicak], kterÃ½ se snaÅ¾Ã­ hodit vinu na opozici, protoÅ¾e vlÃ¡dÄ› neporadila, Å¾e mÃ¡ vÄ›ci Å™eÅ¡it v pÅ™edstihu.

## ZÃ¡vaÅ¾nÃ© technickÃ© chyby

1) NedostateÄnÃ¡ ochrana osobnÃ­ch ÃºdajÅ¯. CelÃ½ systÃ©m z logiky vÄ›ci v dalÅ¡Ã­ch fÃ¡zÃ­ch bude pracovat s anamnÃ©zou klienta. ÄŒÃ­slo pojiÅ¡tÄ›nce (vÄ›tÅ¡inou rodnÃ© ÄÃ­slo) je pÅ™edÃ¡vÃ¡no v URL, coÅ¾ nenÃ­ bezpeÄnÃ¡ technika. NapÅ™Ã­klad je uklÃ¡dÃ¡no v pÅ™Ã­tomnÃ½ch Google Analytics nebo v log souborech serverÅ¯, pÅ™Ã­padnÃ©ho proxy serveru, mÅ¯Å¾e bÃ½t posilÃ¡no v HTTP hlaviÄkÃ¡ch jako tzv. Referer.
2) Validace dat ÄistÄ› v prohlÃ­Å¾eÄi uÅ¾ivatele umoÅ¾Åˆuje [vÄ›kovÃ© restrikce obejÃ­t](https://www.novinky.cz/internet-a-pc/software/clanek/kterak-se-24lety-student-k-registraci-mezi-80letymi-dostal-40347976). BÄ›Å¾nÃ© je Å™eÅ¡it validaci vstupnÃ­ch dat u klienta v prohlÃ­Å¾eÄi i na stranÄ› serveru, aby nedoÅ¡lo k chybÄ› a zÃ¡roveÅˆ byl klient rychle informovÃ¡n.
4) DruhÃ¡ fÃ¡ze je provozovÃ¡na na serverech soukromÃ© spoleÄnosti Reservatic.com. Takto ÄÃ¡steÄnÃ© zapojenÃ­ nedÃ¡vÃ¡ pÅ™Ã­liÅ¡ velkÃ½ smysl.
5) **Å patnÃ¡ validace rodnÃ½ch ÄÃ­sel**. PrvotnÃ­ zprÃ¡vy hovoÅ™ily, Å¾e se Å¡patnÄ› validujÃ­ 9 mÃ­stnÃ¡ rodnÃ¡ ÄÃ­sla. VladnÃ­ zmocnenÄ›c Å™Ã­kÃ¡, Å¾e se jednÃ¡ o jinou chybu u validace rodnÃ½ch ÄÃ­sel (lidÃ© narozenÃ­ 31.). Tak jako tak je to problÃ©m.
6) SystÃ©m nenÃ­ provÃ¡zÃ¡n s centrÃ¡lnÃ­ elektronickou identitou obÄanÅ¯ (**NIA**). To je dÅ¯leÅ¾itÃ© hlavnÄ› z dlouhodobÃ©ho hlediska, aÅ¾ bude registrace pÅ™Ã­stupnÃ¡ Å¡irÅ¡Ã­ skupinÄ› obyvatel.
7) Absence **penetraÄnÃ­ch testÅ¯** ukazuje, Å¾e provozovatel se nestarÃ¡ o ochranu soukromÃ­ nÃ¡vÅ¡tÄ›vnÃ­kÅ¯. Jejich neprovedenÃ­ je jasnÃ© z poÄtu chyb. Toto je samozÅ™ejmÄ› vina Å¡ibeniÄnÃ­ho termÃ­nu, za kterÃ½ opÄ›t mÅ¯Å¾e vlÃ¡da.

## Chyby v nÃ¡vrhu a uÅ¾ivatelskÃ© pÅ™Ã­vÄ›tivosti

1) StÃ¡t mÄ›l zvolit lepÅ¡Ã­ domÃ©nu neÅ¾ `https://registrace.mzcr.cz` Äi ` crs.uzis.cz`, napÅ™Ã­klad stÃ¡tnÃ­ domÃ©na `gov.cz` sice nenÃ­ ideÃ¡lnÃ­, avÅ¡ak je krÃ¡tkÃ¡. NicneÅ™Ã­kajÃ­cÃ­ zkratky ministerstev nepomÃ¡hajÃ­. StÃ¡t si urÄitÄ› mohl koupit lepÅ¡Ã­ domÃ©nu druhÃ©ho Å™Ã¡du.
2) ReCaptcha od spoleÄnosti Google nepatÅ™Ã­ na klÃ­ÄovÃ½ web veÅ™ejnÃ© sprÃ¡vy. SenioÅ™i jsou nuceni klikat na obrÃ¡zky a rozpoznÃ¡vat, na kterÃ½ch jsou fotky semaforÅ¯ Äi hydrantÅ¯ z USA!
    <blockquote class="twitter-tweet"><p lang="cs" dir="ltr">PrÃ¡vÄ› jsem mluvil s babiÄkou. <br><br>PonÄ›kud jÃ­ zmÃ¡tlo, Å¾e pÅ™i registraci na oÄkovÃ¡nÃ­ musela absolvovat test z rozpoznÃ¡vÃ¡nÃ­ hydrantÅ¯ (ReCaptcha).</p>&mdash; OndÅ™ej Profant (@ondrej_profant) <a href="https://twitter.com/ondrej_profant/status/1350857240899682304?ref_src=twsrc%5Etfw">January 17, 2021</a></blockquote> 
3) SystÃ©m mÄ›l bÃ½t navrÅ¾en tak, aby nebyly tÅ™eba 2 Å¡estimÃ­stnÃ© piny. IdeÃ¡lnÃ­ by byl stav, kdy by uÅ¾ivatel mohl objednat i dalÅ¡Ã­ rodinnÃ© pÅ™Ã­sluÅ¡nÃ­ky.
    <blockquote class="twitter-tweet"><p lang="cs" dir="ltr">U FrancouzÅ¯ se zblÃ¡znili. Registrace na dvÄ› kliknutÃ­ a pÅ™i jednom pÅ™ihlÃ¡Å¡enÃ­ rovnou zaregistrovat vÅ¡echny pÅ™Ã­buznÃ©!ğŸ¤¦<br><br>Kde je prvnÃ­ a druhÃ½ PIN? Kde je odeslÃ¡nÃ­ rodnÃ©ho ÄÃ­sla Googlu? Kde je souhlas se zasÃ­lÃ¡nÃ­m obchodnÃ­ch sdÄ›lenÃ­? To Francie nevÃ­ jak vypadÃ¡ <a href="https://twitter.com/hashtag/CountyForTheFuture?src=hash&amp;ref_src=twsrc%5Etfw">#CountyForTheFuture</a>? <a href="https://t.co/p826Oa9kPp">pic.twitter.com/p826Oa9kPp</a></p>&mdash; Pavel Hertl (@PavelHertl) <a href="https://twitter.com/PavelHertl/status/1350478108789514241?ref_src=twsrc%5Etfw">January 16, 2021</a></blockquote> 

[lupa]: https://mobile.twitter.com/Lupacz/status/1350013368640413696
[Validace]: https://mobile.twitter.com/filipsedivy/status/1350046619429908480
[DenÃ­kN]: https://denikn.cz/539388/infrastruktura-spusteni-ockovani-zvladla-jeli-jsme-na-dvacet-procent-s-operatory-jsme-se-bavili-tvrdi-dzurilla/?cst=ff9396291bea5aa41c82937672ada50ba64cfd6c
[navod]: https://www.facebook.com/ceska.piratska.strana/photos/a.117963484038/10158150543079039/
[spicak]: https://twitter.com/maestrosill/status/1349857358768439297
[statni-vyznamenani]: https://twitter.com/CT24zive/status/1350461115956916231
